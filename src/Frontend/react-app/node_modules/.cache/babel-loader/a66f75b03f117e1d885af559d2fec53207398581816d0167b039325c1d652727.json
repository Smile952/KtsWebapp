{"ast":null,"code":"import{useEffect}from'react';import{useAppDispatch,useAppSelector}from'../store';import{verifyToken,selectAuth}from'../store/slice';import{UnauthorizedPage}from'../ts/pages/UnauthorizedPage';import{jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";export function CheckAuth(_ref){let{children,accessLevel}=_ref;const dispatch=useAppDispatch();const{token,role,isLoading}=useAppSelector(selectAuth);useEffect(()=>{dispatch(verifyToken());},[dispatch]);if(isLoading)return/*#__PURE__*/_jsx(\"div\",{children:\"Loading...\"});if(!token)return/*#__PURE__*/_jsx(UnauthorizedPage,{});const permission=role?parseInt(role):-1;if(permission<accessLevel)return/*#__PURE__*/_jsx(UnauthorizedPage,{});return/*#__PURE__*/_jsx(_Fragment,{children:children});}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}